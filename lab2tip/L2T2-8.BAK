/*Методы программирования и информатика
  Лабораторная работа №2. Основные Использование циклов.
  Работа с целыми числами

  Типовое задание 1.
  Условие: Из введённого числа получить новое число путём уменьшения
  каждой цыфры на еденицу.

  Выполнил студент группы PM-22 Orlovskiy A.C.
*/

// подключение заголовочных файлов (директивы препроцессора)

#include <stdio.h>
#include <conio.h>
//Восьмеричная система счисления
int main()
{
  unsigned long int a, a1, b, c, c1;
int k = 1;         // порядковый номер цифры в числе справа налево
  // вывод условия задачи
  clrscr();
  printf ("\n Условие: Из введённого числа получить новое число путём уменьшения");
  printf ("\n каждой цыфры на еденицу.");
  printf ("\n Введите число: ");
  scanf ("%lo", &a);
b = 0;
a1=a;
while (a)
{
    c = a & 0x7;       // выделение последней цифры
if (c!= 0)
{
     c--;
c1 = c << (k - 1) * 3; // подготовка цифры для занесения в нужный разряд
b = b | c1;                  // добавление цифры в новое число
	}
k++;                // изменение порядкового номера цифры
a = a >> 3;     // уменьшение числа, т.е. отбрасывание последней цифры
   }
  clrscr();
  printf ("\n Условие: Из введённого числа получить новое число путём уменьшения");
  printf ("\n каждой цифры на единицу.");
  printf ("\n Введённое число: =%#lo",a1);
  printf ("\n Преобразовонное число=%#lo",b);
  getch ();
  return 0;
}

